<div class="findex-container">

    <app-component-header class="findex-header"></app-component-header>

    <thread-component-fnav class="findex-nav" (filtersChanged)="onFiltersChanged($event)" />

    <div class="findex-list-card">

        <div class="findex-list-new" [routerLink]="['/anew']" routerLinkActive="active">
            <mat-icon>note_add</mat-icon>
        </div>

        <div class="findex-listed-container">
            @for (thread of allThreads(); track threadTrackFn($index, thread)) {
            <div class="findex-thread-card" (click)="readThread(thread.ThreadID)">
                <div class="thread-content">
                    <div class="thread-title" [innerHTML]="thread.ThreadTitle"></div>
                    <div class="thread-body" [innerHTML]="thread.ThreadBody"></div>
                    <div class="thread-footer">
                        <div class="thread-author">{{ thread.AuthorName }}</div>
                        <div class="thread-date">{{ thread.ThreadDate.slice(0, 10) }}</div>
                        <div class="thread-category">{{ thread.ThreadCategory }}</div>
                    </div>
                    <div class="thread-hashtags">{{ thread.ThreadHashtags.join(' ') }}</div>
                </div>
                <img class="thread-image" [src]="SERVER_URI + '/images/' + thread.ThreadImage" alt="Thread Image" />
            </div>
            }
            @empty {
            <div class="thread-card">
                <div class="thread-title">No threads found.</div>
            </div>
            }
        </div>

    </div>

    <app-component-footer class="findex-footer"></app-component-footer>

</div>